# Pixie AI ì±—ë´‡ (Chatbot)

## ê°œìš”
Pixie AI ì±—ë´‡ì€ ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì„ í™œìš©í•œ ì§€ëŠ¥í˜• íˆ¬ì ìƒë‹´ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. 4ë‹¨ê³„ AI ì²´ì¸(AI-A â†’ AI-A2 â†’ AI-B â†’ Final)ì„ í†µí•´ ì‚¬ìš©ìì—ê²Œ ì •êµí•˜ê³  ê°œì¸í™”ëœ íˆ¬ì ì¡°ì–¸ì„ ì œê³µí•©ë‹ˆë‹¤.

## í˜ì´ì§€ êµ¬ì¡°

### 1. ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ (`/chatbot`)
```
í—¤ë”: "Pixie AI íˆ¬ì ìƒë‹´"
ì„œë¸Œí—¤ë”: "AIì™€ ëŒ€í™”í•˜ë©° ë§ì¶¤í˜• íˆ¬ì ì¡°ì–¸ì„ ë°›ì•„ë³´ì„¸ìš”"
ë©”ì¸ ì˜ì—­:
- ì±„íŒ… ì°½ (ëŒ€í™” ë‚´ì—­)
- ì…ë ¥ í•„ë“œ
- ì „ì†¡ ë²„íŠ¼
- AI ìƒíƒœ í‘œì‹œê¸°
ì‚¬ì´ë“œë°”:
- ëŒ€í™” íˆìŠ¤í† ë¦¬
- ìì£¼ ë¬»ëŠ” ì§ˆë¬¸
- í˜„ì¬ ë¶„ì„ ì¤‘ì¸ ë°ì´í„°
```

## ë©€í‹° ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¡°

### AI ì—ì´ì „íŠ¸ ì²´ì¸
```python
# src/investment_advisor.py
class InvestmentAdvisor:
    def chat(self, user_message, session_id):
        """
        4ë‹¨ê³„ AI ì²´ì¸ ì‹¤í–‰
        ê° ë‹¨ê³„ëŠ” ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, 
        ì´ì „ ë‹¨ê³„ì˜ ê²°ê³¼ë¥¼ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í™œìš©
        """
        
        # 1ë‹¨ê³„: AI-A (ì´ˆê¸° ë¶„ì„)
        ai_a_response = self.process_ai_a(user_message)
        
        # 2ë‹¨ê³„: AI-A2 (ì¿¼ë¦¬ ì •ì œ)
        ai_a2_response = self.process_ai_a2(ai_a_response)
        
        # 3ë‹¨ê³„: AI-B (ë°ì´í„° ë¶„ì„)
        ai_b_response = self.process_ai_b(ai_a2_response)
        
        # 4ë‹¨ê³„: Final (ì¢…í•© ì‘ë‹µ)
        final_response = self.generate_final_response(
            ai_a_response, ai_a2_response, ai_b_response
        )
        
        return final_response
```

### 1ë‹¨ê³„: AI-A (ì´ˆê¸° ë¶„ì„ ì—ì´ì „íŠ¸)
**ì—­í• **: ì‚¬ìš©ì ì˜ë„ íŒŒì•… ë° ì´ˆê¸° íˆ¬ì ë¶„ì„

**í”„ë¡¬í”„íŠ¸ êµ¬ì¡°**:
```
ë‹¹ì‹ ì€ 20ë…„ ê²½ë ¥ì˜ íˆ¬ì ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ì§ˆë¬¸ì„ ë¶„ì„í•˜ê³  ì´ˆê¸° íˆ¬ì ì¡°ì–¸ì„ ì œê³µí•˜ì„¸ìš”.

[ì‚¬ìš©ì í”„ë¡œí•„]
- íˆ¬ì ì„±í–¥: {user_profile.risk_type}
- íˆ¬ì ê²½í—˜: {user_profile.experience}
- ëª©í‘œ ìˆ˜ìµë¥ : {user_profile.target_return}

[ì§ˆë¬¸]
{user_message}

ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ë‹µë³€í•˜ì„¸ìš”:
1. ì§ˆë¬¸ ì´í•´
2. ì´ˆê¸° ë¶„ì„
3. í•„ìš”í•œ ì¶”ê°€ ì •ë³´
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```
ì§ˆë¬¸ ì´í•´: ì‚¼ì„±ì „ì íˆ¬ì íƒ€ì´ë°ì— ëŒ€í•œ ì¡°ì–¸ ìš”ì²­

ì´ˆê¸° ë¶„ì„: 
- í˜„ì¬ ì‚¼ì„±ì „ìëŠ” ë°˜ë„ì²´ ì‹œì¥ íšŒë³µ ê¸°ëŒ€ê°ìœ¼ë¡œ ìƒìŠ¹ ì¶”ì„¸
- PER 15.2ë¡œ ì—…ê³„ í‰ê·  ëŒ€ë¹„ ì €í‰ê°€ ìƒíƒœ
- ìµœê·¼ ì‹¤ì  ê°œì„  ë° ë°°ë‹¹ í™•ëŒ€ ê¸ì •ì 

í•„ìš”í•œ ì¶”ê°€ ì •ë³´:
- ìµœê·¼ 3ê°œì›” ì£¼ê°€ ì¶”ì´
- ì™¸êµ­ì¸/ê¸°ê´€ ë§¤ë§¤ ë™í–¥
- ë°˜ë„ì²´ ì—…í™© ì „ë§
```

### 2ë‹¨ê³„: AI-A2 (ì¿¼ë¦¬ ì •ì œ ì—ì´ì „íŠ¸)
**ì—­í• **: ë°ì´í„° ìš”êµ¬ì‚¬í•­ ëª…í™•í™” ë° êµ¬ì¡°í™”

**í”„ë¡¬í”„íŠ¸ êµ¬ì¡°**:
```
AI-Aì˜ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ë¥¼ êµ¬ì¡°í™”í•˜ì„¸ìš”.

[AI-A ë¶„ì„]
{ai_a_response}

ë‹¤ìŒ í˜•ì‹ì˜ ë°ì´í„° ì¿¼ë¦¬ë¥¼ ìƒì„±í•˜ì„¸ìš”:
{
    "price_data": ["ì¢…ëª©ëª…", "ê¸°ê°„"],
    "financial_data": ["ì¬ë¬´ì§€í‘œ"],
    "market_data": ["ì‹œì¥ì§€í‘œ"],
    "news_sentiment": ["í‚¤ì›Œë“œ"]
}
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
    "price_data": {
        "ticker": "005930",
        "period": "3M",
        "indicators": ["close", "volume", "volatility"]
    },
    "financial_data": {
        "metrics": ["PER", "PBR", "ROE", "EPS"],
        "period": "recent_quarter"
    },
    "market_data": {
        "investor_type": ["foreign", "institutional"],
        "period": "1M"
    },
    "news_sentiment": {
        "keywords": ["ì‚¼ì„±ì „ì", "ë°˜ë„ì²´", "ì‹¤ì "],
        "period": "1W"
    }
}
```

### 3ë‹¨ê³„: AI-B (ë°ì´í„° ë¶„ì„ ì—ì´ì „íŠ¸)
**ì—­í• **: ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸ ë„ì¶œ

**ì²˜ë¦¬ ê³¼ì •**:
```python
def process_ai_b(self, data_query):
    """ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘ ë° ë¶„ì„"""
    
    # ë°ì´í„° ìˆ˜ì§‘
    price_data = self.fetch_price_data(data_query['price_data'])
    financial_data = self.fetch_financial_data(data_query['financial_data'])
    market_data = self.fetch_market_data(data_query['market_data'])
    news_data = self.analyze_news_sentiment(data_query['news_sentiment'])
    
    # ê¸°ìˆ ì  ë¶„ì„
    technical_analysis = self.calculate_technical_indicators(price_data)
    
    # ì¢…í•© ë¶„ì„
    analysis = {
        'current_price': price_data['current'],
        'price_trend': technical_analysis['trend'],
        'valuation': financial_data['valuation_score'],
        'investor_sentiment': market_data['sentiment'],
        'news_impact': news_data['overall_sentiment'],
        'recommendation': self.generate_recommendation(all_data)
    }
    
    return analysis
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```
[ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„ ê²°ê³¼]

ì£¼ê°€ í˜„í™©:
- í˜„ì¬ê°€: 72,500ì› (ì „ì¼ ëŒ€ë¹„ +1.2%)
- 3ê°œì›” ìˆ˜ìµë¥ : +8.5%
- ë³€ë™ì„±: 18.3% (ë³´í†µ ìˆ˜ì¤€)

ê¸°ìˆ ì  ì§€í‘œ:
- RSI: 58 (ì¤‘ë¦½)
- MACD: ìƒìŠ¹ ì‹ í˜¸
- ì´ë™í‰ê· ì„ : 20ì¼ì„  ìƒí–¥ ëŒíŒŒ

íˆ¬ìì ë™í–¥:
- ì™¸êµ­ì¸: 5ì¼ ì—°ì† ìˆœë§¤ìˆ˜ (ëˆ„ì  1,200ì–µ)
- ê¸°ê´€: 3ì¼ ì—°ì† ìˆœë§¤ìˆ˜ (ëˆ„ì  800ì–µ)

ë‰´ìŠ¤ ê°ì„±:
- ì „ì²´ ê°ì„± ì ìˆ˜: +0.65 (ê¸ì •ì )
- ì£¼ìš” ì´ìŠˆ: ë°˜ë„ì²´ ìˆ˜ìš” íšŒë³µ, ì‹¤ì  ê°œì„  ê¸°ëŒ€
```

### 4ë‹¨ê³„: Final (ìµœì¢… í†µí•© ì—ì´ì „íŠ¸)
**ì—­í• **: ëª¨ë“  ë¶„ì„ ì¢…í•© ë° ì‹¤í–‰ ê°€ëŠ¥í•œ ì¡°ì–¸ ìƒì„±

**í†µí•© í”„ë¡œì„¸ìŠ¤**:
```python
def generate_final_response(self, ai_a, ai_a2, ai_b):
    """ëª¨ë“  ì—ì´ì „íŠ¸ ì‘ë‹µ í†µí•©"""
    
    # ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±
    context = {
        'initial_analysis': ai_a,
        'data_requirements': ai_a2,
        'real_time_analysis': ai_b,
        'user_profile': self.get_user_profile()
    }
    
    # ìµœì¢… í”„ë¡¬í”„íŠ¸
    prompt = f"""
    ëª¨ë“  ë¶„ì„ì„ ì¢…í•©í•˜ì—¬ êµ¬ì²´ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ íˆ¬ì ì¡°ì–¸ì„ ì œê³µí•˜ì„¸ìš”.
    
    [ì¢…í•© ë¶„ì„]
    {context}
    
    ë‹¤ìŒ ë‚´ìš©ì„ í¬í•¨í•˜ì„¸ìš”:
    1. í•µì‹¬ íˆ¬ì ì˜ê²¬
    2. êµ¬ì²´ì  í–‰ë™ ë°©ì•ˆ
    3. ë¦¬ìŠ¤í¬ ìš”ì¸
    4. ì‹œê°„ í”„ë ˆì„
    5. ëŒ€ì•ˆ ì „ëµ
    """
    
    return self.llm_service.generate(prompt)
```

## ëŒ€í™” ì¸í„°í˜ì´ìŠ¤ ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ íƒ€ì´í•‘ í‘œì‹œ
```javascript
// íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜
function showTypingIndicator() {
    const indicator = document.createElement('div');
    indicator.className = 'typing-indicator';
    indicator.innerHTML = `
        <span></span>
        <span></span>
        <span></span>
        <span class="agent-label">AI-A ë¶„ì„ ì¤‘...</span>
    `;
    chatContainer.appendChild(indicator);
}
```

### 2. ì—ì´ì „íŠ¸ ì‹ë³„ í‘œì‹œ
ê° AI ì—ì´ì „íŠ¸ì˜ ì‘ë‹µì„ ì‹œê°ì ìœ¼ë¡œ êµ¬ë¶„:
- **AI-A**: ğŸ¤– íŒŒë€ìƒ‰ ë°°ê²½
- **AI-A2**: ğŸ” ë³´ë¼ìƒ‰ ë°°ê²½
- **AI-B**: ğŸ“Š ì´ˆë¡ìƒ‰ ë°°ê²½
- **Final**: âœ¨ ê¸ˆìƒ‰ ë°°ê²½

### 3. ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
```python
@app.route('/api/chat', methods=['POST'])
def chat_endpoint():
    def generate():
        # ê° ì—ì´ì „íŠ¸ ì‘ë‹µì„ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°
        for agent, response in advisor.chat_stream(message):
            yield f"data: {json.dumps({
                'agent': agent,
                'content': response,
                'timestamp': datetime.now().isoformat()
            })}\n\n"
    
    return Response(generate(), mimetype='text/event-stream')
```

## ëŒ€í™” ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ì¢…ëª© ì¶”ì²œ
**ì‚¬ìš©ì**: "ìš”ì¦˜ íˆ¬ìí•˜ê¸° ì¢‹ì€ í•œêµ­ ì£¼ì‹ ì¶”ì²œí•´ì¤˜"

**AI ì‘ë‹µ**:
```
ğŸ¤– AI-A: í˜„ì¬ ì‹œì¥ ìƒí™©ê³¼ ë‹¹ì‹ ì˜ ìœ„í—˜ì¤‘ë¦½í˜• íˆ¬ì ì„±í–¥ì„ ê³ ë ¤í•˜ì—¬ ë¶„ì„í•˜ê² ìŠµë‹ˆë‹¤.

ğŸ” AI-A2: ì„¹í„°ë³„ ìƒìœ„ ì¢…ëª© ë°ì´í„°ë¥¼ ì¡°íšŒ ì¤‘...

ğŸ“Š AI-B: 
[ë°ì´í„° ë¶„ì„ ê²°ê³¼]
- IT: ì‚¼ì„±ì „ì(+12%), SKí•˜ì´ë‹‰ìŠ¤(+18%)
- ë°”ì´ì˜¤: ì…€íŠ¸ë¦¬ì˜¨(+8%), ì‚¼ì„±ë°”ì´ì˜¤ë¡œì§ìŠ¤(+6%)
- ë°°í„°ë¦¬: LGì—ë„ˆì§€ì†”ë£¨ì…˜(+15%), ì‚¼ì„±SDI(+10%)

âœ¨ ìµœì¢… ì¶”ì²œ:
1. ì‚¼ì„±ì „ì (005930)
   - ì¶”ì²œ ì´ìœ : ë°˜ë„ì²´ ì—…í™© íšŒë³µ, ì €í‰ê°€ êµ¬ê°„
   - ëª©í‘œê°€: 80,000ì›
   - íˆ¬ì ë¹„ì¤‘: 30%

2. LGì—ë„ˆì§€ì†”ë£¨ì…˜ (373220)
   - ì¶”ì²œ ì´ìœ : ì „ê¸°ì°¨ ì‹œì¥ ì„±ì¥, ê¸°ìˆ  ê²½ìŸë ¥
   - ëª©í‘œê°€: 550,000ì›
   - íˆ¬ì ë¹„ì¤‘: 20%

3. KBê¸ˆìœµ (105560)
   - ì¶”ì²œ ì´ìœ : ê³ ê¸ˆë¦¬ ìˆ˜í˜œ, ì•ˆì •ì  ë°°ë‹¹
   - ëª©í‘œê°€: 70,000ì›
   - íˆ¬ì ë¹„ì¤‘: 20%

ë¦¬ìŠ¤í¬ ê´€ë¦¬:
- ë¶„í•  ë§¤ìˆ˜ ì „ëµ ì¶”ì²œ
- ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤ì˜ 70% ì´ë‚´ íˆ¬ì
- 3ê°œì›”ë§ˆë‹¤ ë¦¬ë°¸ëŸ°ì‹±
```

### ì˜ˆì‹œ 2: ì‹œì¥ ë¶„ì„
**ì‚¬ìš©ì**: "ìµœê·¼ ì½”ìŠ¤í”¼ê°€ ê³„ì† ë–¨ì–´ì§€ëŠ”ë° ì™œ ê·¸ëŸ°ê±°ì•¼?"

**AI ì‘ë‹µ**:
```
ğŸ¤– AI-A: ìµœê·¼ KOSPI í•˜ë½ ì›ì¸ì„ ë¶„ì„í•˜ê² ìŠµë‹ˆë‹¤.

ğŸ” AI-A2: ê±°ì‹œê²½ì œ ì§€í‘œì™€ íˆ¬ììë³„ ë§¤ë§¤ ë™í–¥ ì¡°íšŒ ì¤‘...

ğŸ“Š AI-B:
[ì‹œì¥ ë°ì´í„°]
- KOSPI: 2,450 (-3.5% 1ì£¼ì¼)
- ì™¸êµ­ì¸: 5ì¼ ì—°ì† ìˆœë§¤ë„ (ëˆ„ì  -1.2ì¡°)
- ê¸°ê´€: 3ì¼ ì—°ì† ìˆœë§¤ë„ (ëˆ„ì  -0.8ì¡°)
- ë‹¬ëŸ¬/ì›: 1,340ì› (1ì£¼ì¼ +2.5%)

âœ¨ í•˜ë½ ì›ì¸ ë¶„ì„:

ì£¼ìš” ìš”ì¸:
1. ë¯¸êµ­ ê¸ˆë¦¬ ì¸ìƒ ìš°ë ¤
   - Fedì˜ ë§¤íŒŒì  ë°œì–¸ìœ¼ë¡œ ê¸´ì¶• ì§€ì† ì˜ˆìƒ
   - ê¸€ë¡œë²Œ ìœ ë™ì„± ì¶•ì†Œ ìš°ë ¤

2. ì¤‘êµ­ ê²½ê¸° ë‘”í™”
   - ì¤‘êµ­ ì œì¡°ì—… PMI 48.5ë¡œ ìœ„ì¶•
   - í•œêµ­ ìˆ˜ì¶œ ê¸°ì—… ì‹¤ì  ìš°ë ¤

3. ì›í™” ì•½ì„¸
   - ë‹¬ëŸ¬ ê°•ì„¸ë¡œ ì™¸êµ­ì¸ ì´íƒˆ
   - í™˜ì°¨ì† ìš°ë ¤ ì¦ê°€

ëŒ€ì‘ ì „ëµ:
- ë‹¨ê¸°: í˜„ê¸ˆ ë¹„ì¤‘ í™•ëŒ€ (30-40%)
- ì¤‘ê¸°: ì €ê°€ ë¶„í•  ë§¤ìˆ˜ ì¤€ë¹„
- ê´€ì‹¬ êµ¬ê°„: KOSPI 2,400-2,420
```

## ê³ ê¸‰ ê¸°ëŠ¥

### 1. ì»¨í…ìŠ¤íŠ¸ ìœ ì§€
```python
class MemoryManager:
    def __init__(self):
        self.conversation_history = []
        self.user_context = {}
    
    def add_message(self, role, content):
        self.conversation_history.append({
            'role': role,
            'content': content,
            'timestamp': datetime.now()
        })
    
    def get_context(self, max_messages=10):
        """ìµœê·¼ ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ ë°˜í™˜"""
        return self.conversation_history[-max_messages:]
```

### 2. ë©€í‹°ëª¨ë‹¬ ì…ë ¥
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: ì°¨íŠ¸, ì¬ë¬´ì œí‘œ ìŠ¤í¬ë¦°ìƒ· ë¶„ì„
- **íŒŒì¼ ì²¨ë¶€**: Excel í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„
- **ìŒì„± ì…ë ¥**: ìŒì„± ì§ˆë¬¸ ì§€ì›

### 3. ì¶”ì²œ ì•¡ì…˜ ë²„íŠ¼
ëŒ€í™” ì¤‘ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ì œê³µ:
```
[í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„] [ë‰´ìŠ¤ ë³´ê¸°] [ì°¨íŠ¸ í™•ì¸] [ë§¤ìˆ˜ ì£¼ë¬¸]
```

### 4. ëŒ€í™” ë‚´ë³´ë‚´ê¸°
- **PDF ì €ì¥**: ìƒë‹´ ë‚´ì—­ PDF ìƒì„±
- **ì´ë©”ì¼ ì „ì†¡**: ì£¼ìš” ì¡°ì–¸ ì´ë©”ì¼ ë°œì†¡
- **ë©”ëª¨ ì €ì¥**: ì¤‘ìš” ë‚´ìš© ë¶ë§ˆí¬

## ì„±ëŠ¥ ìµœì í™”

### 1. ì‘ë‹µ ì‹œê°„ ë‹¨ì¶•
```python
# ë³‘ë ¬ ì²˜ë¦¬ë¡œ ì‘ë‹µ ì‹œê°„ ìµœì í™”
async def parallel_agent_processing():
    tasks = [
        asyncio.create_task(process_ai_a()),
        asyncio.create_task(fetch_market_data()),
        asyncio.create_task(analyze_news())
    ]
    results = await asyncio.gather(*tasks)
    return combine_results(results)
```

### 2. ìºì‹± ì „ëµ
- **í”„ë¡œí•„ ìºì‹±**: ì‚¬ìš©ì í”„ë¡œí•„ 5ë¶„ ìºì‹œ
- **ë°ì´í„° ìºì‹±**: ì‹œì¥ ë°ì´í„° 1ë¶„ ìºì‹œ
- **ì‘ë‹µ ìºì‹±**: ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ ì‘ë‹µ ìºì‹œ

### 3. ì—ëŸ¬ ì²˜ë¦¬
```python
def handle_agent_error(agent_name, error):
    """ì—ì´ì „íŠ¸ ì˜¤ë¥˜ ì‹œ graceful degradation"""
    if agent_name == 'AI-B':
        # ë°ì´í„° ì—ì´ì „íŠ¸ ì‹¤íŒ¨ ì‹œ ìºì‹œëœ ë°ì´í„° ì‚¬ìš©
        return get_cached_data()
    else:
        # ë‹¤ë¥¸ ì—ì´ì „íŠ¸ ì‹¤íŒ¨ ì‹œ ë‹¨ìˆœí™”ëœ ì‘ë‹µ
        return get_fallback_response()
```

## í”¼ë“œë°± ì‹œìŠ¤í…œ

### 1. ì‘ë‹µ í‰ê°€
ê° ì‘ë‹µì— ëŒ€í•œ ì‚¬ìš©ì í”¼ë“œë°±:
- ğŸ‘ ë„ì›€ë¨
- ğŸ‘ ë„ì›€ ì•ˆë¨
- ğŸ’¡ ë” ìì„¸íˆ

### 2. ê°œì„  í•™ìŠµ
```python
def collect_feedback(session_id, message_id, rating):
    """í”¼ë“œë°± ìˆ˜ì§‘ ë° ëª¨ë¸ ê°œì„ """
    feedback = {
        'session_id': session_id,
        'message_id': message_id,
        'rating': rating,
        'timestamp': datetime.now()
    }
    
    # í”¼ë“œë°± ì €ì¥
    save_feedback(feedback)
    
    # ë‚®ì€ í‰ê°€ ì‘ë‹µ ë¶„ì„
    if rating < 3:
        analyze_poor_response(message_id)
```

## ë³´ì•ˆ ë° í”„ë¼ì´ë²„ì‹œ

### 1. ë°ì´í„° ë³´í˜¸
- **ì•”í˜¸í™”**: ëª¨ë“  ëŒ€í™” ë‚´ìš© AES-256 ì•”í˜¸í™”
- **ìµëª…í™”**: ê°œì¸ ì •ë³´ ìë™ ë§ˆìŠ¤í‚¹
- **ë§Œë£Œ**: 30ì¼ í›„ ëŒ€í™” ê¸°ë¡ ìë™ ì‚­ì œ

### 2. ì ‘ê·¼ ì œì–´
- **ì„¸ì…˜ ê²€ì¦**: UUID ê¸°ë°˜ ì„¸ì…˜ ê´€ë¦¬
- **Rate Limiting**: ë¶„ë‹¹ 10íšŒ ìš”ì²­ ì œí•œ
- **IP ì°¨ë‹¨**: ì•…ì˜ì  ì‚¬ìš© ê°ì§€ ì‹œ ì°¨ë‹¨

## í–¥í›„ ê°œë°œ ê³„íš

1. **ìŒì„± ëŒ€í™”**: ì‹¤ì‹œê°„ ìŒì„± ìƒë‹´ ì§€ì›
2. **í™”ìƒ ìƒë‹´**: ì•„ë°”íƒ€ ê¸°ë°˜ í™”ìƒ ìƒë‹´
3. **ë‹¤êµ­ì–´ ì§€ì›**: ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´
4. **ì „ë¬¸ê°€ ì—°ê²°**: ì‹¤ì œ ì „ë¬¸ê°€ ìƒë‹´ ì—°ê³„
5. **AR ì°¨íŠ¸**: ì¦ê°•í˜„ì‹¤ ì°¨íŠ¸ ë¶„ì„