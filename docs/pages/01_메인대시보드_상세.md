# 메인 대시보드 페이지 상세 문서

## 1. 개요

### 1.1 페이지 설명
메인 대시보드는 Pixie 서비스의 첫 화면으로, 사용자에게 서비스 소개와 주요 기능으로의 진입점을 제공합니다. AI 투자 비서 서비스의 가치를 전달하고, 사용자가 쉽게 시작할 수 있도록 안내하는 역할을 합니다.

### 1.2 주요 기능
- 서비스 소개 및 가치 제안
- 주요 기능으로의 빠른 접근
- 실시간 시장 정보 표시
- 사용자 맞춤 정보 제공 (로그인 시)

### 1.3 기술 스택
- **Backend**: Flask (Python)
- **Frontend**: HTML5, CSS3, JavaScript (Vanilla)
- **UI Framework**: Bootstrap 5
- **차트**: Chart.js
- **아이콘**: Font Awesome 6

---

## 2. 라우트 구현

### 2.1 메인 라우트 (app.py: 라인 1044-1048)
```python
@app.route('/')
def index():
    """메인 대시보드 페이지"""
    return render_template('index.html')
```

#### 설명
- **URL**: `/`
- **메소드**: GET
- **기능**: 메인 대시보드 템플릿을 렌더링
- **특징**: 가장 단순한 라우트로, 별도의 서버사이드 데이터 처리 없이 템플릿만 반환

### 2.2 관련 API 엔드포인트

#### 시장 데이터 API (app.py: 라인 6983-7221)
```python
@app.route('/api/market-sentiment', methods=['GET'])
def get_market_sentiment():
    """실시간 시장 심리 및 주요 지수 정보"""
    try:
        # 시장 데이터 수집
        market_data = {
            'indices': {
                'kospi': {
                    'value': 2450.23,
                    'change': 1.2,
                    'change_amount': 29.05
                },
                'kosdaq': {
                    'value': 745.67,
                    'change': -0.5,
                    'change_amount': -3.73
                },
                'dow': {
                    'value': 35123.45,
                    'change': 0.8,
                    'change_amount': 280.99
                },
                'nasdaq': {
                    'value': 14265.78,
                    'change': 1.5,
                    'change_amount': 210.93
                }
            },
            'exchange_rates': {
                'usd_krw': 1320.50,
                'eur_krw': 1435.20,
                'jpy_krw': 8.95
            },
            'market_sentiment': calculate_market_sentiment(),
            'top_gainers': get_top_gainers(5),
            'top_losers': get_top_losers(5),
            'trading_volume': get_market_volume(),
            'updated_at': datetime.now().isoformat()
        }
        
        return jsonify({
            'success': True,
            'data': market_data
        })
        
    except Exception as e:
        logger.error(f"시장 데이터 조회 오류: {e}")
        return jsonify({'success': False, 'error': str(e)}), 500
```

---

## 3. 템플릿 구조 (templates/index.html)

### 3.1 HTML 구조
```html
{% extends "layout.html" %}
{% block title %}Pixie - AI 투자 비서{% endblock %}

{% block content %}
<!-- 히어로 섹션 -->
<section class="hero-section" id="hero">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    AI 투자 비서 <span class="text-primary">Pixie</span>와 함께<br>
                    스마트한 투자를 시작하세요
                </h1>
                <p class="lead mb-5">
                    개인 맞춤형 AI 분석으로 현명한 투자 결정을 도와드립니다.<br>
                    복잡한 금융 시장을 쉽고 안전하게 탐색하세요.
                </p>
                
                <!-- CTA 버튼 그룹 -->
                <div class="d-flex gap-3 flex-wrap">
                    <a href="/survey" class="btn btn-primary btn-lg px-5 py-3">
                        <i class="fas fa-chart-line me-2"></i>
                        투자 성향 분석 시작
                    </a>
                    <a href="/chatbot" class="btn btn-outline-primary btn-lg px-5 py-3">
                        <i class="fas fa-comments me-2"></i>
                        AI 상담 바로가기
                    </a>
                </div>
                
                <!-- 신뢰 지표 -->
                <div class="trust-indicators mt-5">
                    <div class="row g-4">
                        <div class="col-auto">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-users text-primary me-2"></i>
                                <span class="small text-muted">10,000+ 사용자</span>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-star text-warning me-2"></i>
                                <span class="small text-muted">4.8/5 평점</span>
                            </div>
                        </div>
                        <div class="col-auto">
                            <div class="d-flex align-items-center">
                                <i class="fas fa-shield-alt text-success me-2"></i>
                                <span class="small text-muted">보안 인증</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="hero-illustration">
                    <img src="/static/images/hero-illustration.svg" 
                         alt="AI 투자 비서 일러스트레이션" 
                         class="img-fluid">
                </div>
            </div>
        </div>
    </div>
    
    <!-- 스크롤 인디케이터 -->
    <div class="scroll-indicator">
        <i class="fas fa-chevron-down"></i>
    </div>
</section>

<!-- 시장 요약 섹션 -->
<section class="market-summary py-5" id="market-summary">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="display-6 fw-bold">오늘의 시장</h2>
            <p class="text-muted">실시간 주요 지수 및 시장 동향</p>
        </div>
        
        <div class="market-cards-container">
            <div class="row g-4" id="market-indices">
                <!-- 동적으로 로드되는 시장 지수 카드 -->
            </div>
            
            <div class="market-sentiment-indicator mt-5">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">시장 심리 지수</h5>
                        <div class="sentiment-gauge" id="sentiment-gauge">
                            <!-- 게이지 차트 -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 주요 기능 섹션 -->
<section class="features py-5 bg-light" id="features">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="display-6 fw-bold">Pixie가 제공하는 서비스</h2>
            <p class="text-muted">AI 기술로 투자를 더 쉽고 똑똑하게</p>
        </div>
        
        <div class="feature-grid">
            <div class="row g-4">
                <!-- 투자 성향 분석 -->
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card h-100 text-center p-4" 
                         onclick="location.href='/survey'">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-chart-line fa-3x text-primary"></i>
                        </div>
                        <h4 class="h5 mb-3">투자 성향 분석</h4>
                        <p class="text-muted mb-3">
                            10개의 질문으로 나만의 투자 성향을 정확히 파악하세요
                        </p>
                        <ul class="list-unstyled small text-start">
                            <li><i class="fas fa-check text-success me-2"></i>AI 기반 분석</li>
                            <li><i class="fas fa-check text-success me-2"></i>맞춤형 포트폴리오</li>
                            <li><i class="fas fa-check text-success me-2"></i>위험 성향 진단</li>
                        </ul>
                    </div>
                </div>
                
                <!-- AI 투자 상담 -->
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card h-100 text-center p-4" 
                         onclick="location.href='/chatbot'">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-robot fa-3x text-primary"></i>
                        </div>
                        <h4 class="h5 mb-3">AI 투자 상담</h4>
                        <p class="text-muted mb-3">
                            Pixie와 1:1 맞춤형 투자 상담을 받아보세요
                        </p>
                        <ul class="list-unstyled small text-start">
                            <li><i class="fas fa-check text-success me-2"></i>24시간 상담</li>
                            <li><i class="fas fa-check text-success me-2"></i>실시간 분석</li>
                            <li><i class="fas fa-check text-success me-2"></i>전문가 수준 조언</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 실시간 뉴스 -->
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card h-100 text-center p-4" 
                         onclick="location.href='/news'">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-newspaper fa-3x text-primary"></i>
                        </div>
                        <h4 class="h5 mb-3">실시간 뉴스</h4>
                        <p class="text-muted mb-3">
                            투자에 필요한 최신 금융 뉴스를 한눈에 확인하세요
                        </p>
                        <ul class="list-unstyled small text-start">
                            <li><i class="fas fa-check text-success me-2"></i>AI 큐레이션</li>
                            <li><i class="fas fa-check text-success me-2"></i>맞춤형 필터링</li>
                            <li><i class="fas fa-check text-success me-2"></i>시장 영향 분석</li>
                        </ul>
                    </div>
                </div>
                
                <!-- MY 투자 -->
                <div class="col-lg-3 col-md-6">
                    <div class="feature-card h-100 text-center p-4" 
                         onclick="location.href='/my-investment'">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-wallet fa-3x text-primary"></i>
                        </div>
                        <h4 class="h5 mb-3">MY 투자</h4>
                        <p class="text-muted mb-3">
                            나의 포트폴리오와 투자 현황을 체계적으로 관리하세요
                        </p>
                        <ul class="list-unstyled small text-start">
                            <li><i class="fas fa-check text-success me-2"></i>포트폴리오 분석</li>
                            <li><i class="fas fa-check text-success me-2"></i>수익률 추적</li>
                            <li><i class="fas fa-check text-success me-2"></i>리스크 관리</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 작동 방식 섹션 -->
<section class="how-it-works py-5" id="how-it-works">
    <div class="container">
        <div class="section-header text-center mb-5">
            <h2 class="display-6 fw-bold">Pixie는 이렇게 동작합니다</h2>
            <p class="text-muted">간단한 3단계로 시작하는 AI 투자 여정</p>
        </div>
        
        <div class="row g-5 align-items-center">
            <div class="col-lg-6">
                <div class="steps">
                    <!-- Step 1 -->
                    <div class="step d-flex mb-4">
                        <div class="step-number">
                            <span class="badge bg-primary rounded-circle p-3">1</span>
                        </div>
                        <div class="step-content ms-4">
                            <h5>투자 성향 분석</h5>
                            <p class="text-muted">
                                10개의 맞춤형 질문을 통해 당신의 투자 성향과 
                                위험 선호도를 정확히 파악합니다.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Step 2 -->
                    <div class="step d-flex mb-4">
                        <div class="step-number">
                            <span class="badge bg-primary rounded-circle p-3">2</span>
                        </div>
                        <div class="step-content ms-4">
                            <h5>AI 분석 및 추천</h5>
                            <p class="text-muted">
                                최신 AI 기술로 시장을 분석하고 
                                당신에게 맞는 투자 전략을 제안합니다.
                            </p>
                        </div>
                    </div>
                    
                    <!-- Step 3 -->
                    <div class="step d-flex">
                        <div class="step-number">
                            <span class="badge bg-primary rounded-circle p-3">3</span>
                        </div>
                        <div class="step-content ms-4">
                            <h5>지속적인 관리</h5>
                            <p class="text-muted">
                                실시간 모니터링과 리스크 알림으로 
                                안전한 투자를 도와드립니다.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="process-illustration">
                    <img src="/static/images/process-illustration.svg" 
                         alt="Pixie 작동 과정" 
                         class="img-fluid">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 통계 섹션 -->
<section class="statistics py-5 bg-primary text-white" id="statistics">
    <div class="container">
        <div class="row g-4 text-center">
            <div class="col-md-3">
                <div class="stat-item">
                    <h3 class="display-4 fw-bold" data-counter="10000">0</h3>
                    <p class="mb-0">활성 사용자</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-item">
                    <h3 class="display-4 fw-bold" data-counter="95">0</h3>
                    <p class="mb-0">만족도 (%)</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-item">
                    <h3 class="display-4 fw-bold" data-counter="500000">0</h3>
                    <p class="mb-0">일일 분석 건수</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-item">
                    <h3 class="display-4 fw-bold" data-counter="24">0</h3>
                    <p class="mb-0">서비스 가동시간</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA 섹션 -->
<section class="cta-section py-5" id="cta">
    <div class="container">
        <div class="text-center">
            <h2 class="display-6 fw-bold mb-4">
                지금 바로 시작하세요
            </h2>
            <p class="lead mb-5">
                AI와 함께하는 스마트한 투자, Pixie가 도와드립니다
            </p>
            <a href="/survey" class="btn btn-primary btn-lg px-5 py-3">
                무료로 시작하기 <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<!-- 페이지 전용 스크립트 -->
<script src="/static/js/dashboard.js"></script>
{% endblock %}
```

---

## 4. JavaScript 구현 (static/js/dashboard.js)

### 4.1 전체 구조
```javascript
// Dashboard 관리 클래스
class DashboardManager {
    constructor() {
        // 속성 초기화
        this.marketData = null;
        this.refreshInterval = 30000; // 30초
        this.charts = {};
        
        // 초기화
        this.init();
    }
    
    init() {
        // 이벤트 리스너 설정
        this.setupEventListeners();
        
        // 초기 데이터 로드
        this.loadMarketData();
        
        // 자동 새로고침 설정
        this.startAutoRefresh();
        
        // 애니메이션 초기화
        this.initAnimations();
        
        // 통계 카운터 초기화
        this.initCounters();
    }
    
    setupEventListeners() {
        // 스크롤 이벤트
        window.addEventListener('scroll', () => this.handleScroll());
        
        // 리사이즈 이벤트
        window.addEventListener('resize', () => this.handleResize());
        
        // 네비게이션 클릭
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', (e) => this.smoothScroll(e));
        });
    }
    
    // 시장 데이터 로드
    async loadMarketData() {
        try {
            const response = await fetch('/api/market-sentiment');
            const data = await response.json();
            
            if (data.success) {
                this.marketData = data.data;
                this.updateMarketDisplay();
                this.updateSentimentGauge();
            }
        } catch (error) {
            console.error('시장 데이터 로드 실패:', error);
            this.showErrorMessage('시장 데이터를 불러올 수 없습니다.');
        }
    }
    
    // 시장 지수 표시 업데이트
    updateMarketDisplay() {
        const container = document.getElementById('market-indices');
        if (!container || !this.marketData) return;
        
        container.innerHTML = '';
        
        // 지수별 카드 생성
        Object.entries(this.marketData.indices).forEach(([key, data]) => {
            const card = this.createMarketCard(key, data);
            container.appendChild(card);
        });
        
        // 애니메이션 효과
        this.animateCards();
    }
    
    // 시장 지수 카드 생성
    createMarketCard(indexName, data) {
        const col = document.createElement('div');
        col.className = 'col-lg-3 col-md-6';
        
        const isPositive = data.change >= 0;
        const changeClass = isPositive ? 'text-success' : 'text-danger';
        const changeIcon = isPositive ? 'fa-caret-up' : 'fa-caret-down';
        
        col.innerHTML = `
            <div class="market-card card h-100 shadow-sm" data-index="${indexName}">
                <div class="card-body">
                    <h6 class="card-subtitle mb-2 text-muted text-uppercase">
                        ${this.getIndexKoreanName(indexName)}
                    </h6>
                    <h4 class="card-title mb-3">
                        ${this.formatNumber(data.value)}
                    </h4>
                    <div class="d-flex align-items-center">
                        <i class="fas ${changeIcon} ${changeClass} me-2"></i>
                        <span class="${changeClass} fw-bold">
                            ${isPositive ? '+' : ''}${data.change.toFixed(2)}%
                        </span>
                        <span class="ms-2 small text-muted">
                            (${isPositive ? '+' : ''}${this.formatNumber(data.change_amount)})
                        </span>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted">
                            <i class="far fa-clock me-1"></i>
                            ${this.getUpdateTime()}
                        </small>
                    </div>
                </div>
            </div>
        `;
        
        return col;
    }
    
    // 시장 심리 게이지 업데이트
    updateSentimentGauge() {
        const gaugeContainer = document.getElementById('sentiment-gauge');
        if (!gaugeContainer) return;
        
        // 기존 차트 제거
        if (this.charts.sentiment) {
            this.charts.sentiment.destroy();
        }
        
        // 게이지 차트 생성
        const ctx = document.createElement('canvas');
        gaugeContainer.appendChild(ctx);
        
        const sentiment = this.marketData.market_sentiment || 50;
        
        this.charts.sentiment = new Chart(ctx, {
            type: 'doughnut',
            data: {
                datasets: [{
                    data: [sentiment, 100 - sentiment],
                    backgroundColor: [
                        this.getSentimentColor(sentiment),
                        '#e0e0e0'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                rotation: -90,
                circumference: 180,
                cutout: '75%',
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: false
                    }
                }
            }
        });
        
        // 중앙 텍스트 추가
        this.addGaugeText(gaugeContainer, sentiment);
    }
    
    // 게이지 중앙 텍스트
    addGaugeText(container, value) {
        const textDiv = document.createElement('div');
        textDiv.className = 'gauge-text';
        textDiv.innerHTML = `
            <div class="gauge-value">${value}</div>
            <div class="gauge-label">${this.getSentimentLabel(value)}</div>
        `;
        container.appendChild(textDiv);
    }
    
    // 심리 지수에 따른 색상
    getSentimentColor(value) {
        if (value >= 70) return '#4CAF50'; // 낙관
        if (value >= 30) return '#FFC107'; // 중립
        return '#F44336'; // 비관
    }
    
    // 심리 지수 라벨
    getSentimentLabel(value) {
        if (value >= 70) return '낙관적';
        if (value >= 30) return '중립적';
        return '비관적';
    }
    
    // 통계 카운터 애니메이션
    initCounters() {
        const counters = document.querySelectorAll('[data-counter]');
        
        const observerOptions = {
            threshold: 0.5
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    this.animateCounter(entry.target);
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);
        
        counters.forEach(counter => observer.observe(counter));
    }
    
    // 숫자 카운팅 애니메이션
    animateCounter(element) {
        const target = parseInt(element.getAttribute('data-counter'));
        const duration = 2000; // 2초
        const step = target / (duration / 16); // 60fps 기준
        
        let current = 0;
        const timer = setInterval(() => {
            current += step;
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            element.textContent = this.formatNumber(Math.floor(current));
        }, 16);
    }
    
    // 스크롤 애니메이션
    initAnimations() {
        const animatedElements = document.querySelectorAll('.animate-on-scroll');
        
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animated');
                }
            });
        }, observerOptions);
        
        animatedElements.forEach(el => observer.observe(el));
    }
    
    // 부드러운 스크롤
    smoothScroll(e) {
        e.preventDefault();
        const targetId = e.currentTarget.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
            targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    }
    
    // 스크롤 핸들러
    handleScroll() {
        const scrollY = window.scrollY;
        
        // 네비게이션 바 스타일 변경
        const navbar = document.querySelector('.navbar');
        if (navbar) {
            if (scrollY > 100) {
                navbar.classList.add('navbar-scrolled');
            } else {
                navbar.classList.remove('navbar-scrolled');
            }
        }
        
        // 스크롤 인디케이터 숨기기
        const scrollIndicator = document.querySelector('.scroll-indicator');
        if (scrollIndicator) {
            scrollIndicator.style.opacity = scrollY > 50 ? '0' : '1';
        }
    }
    
    // 리사이즈 핸들러
    handleResize() {
        // 차트 리사이즈
        Object.values(this.charts).forEach(chart => {
            if (chart) chart.resize();
        });
    }
    
    // 자동 새로고침
    startAutoRefresh() {
        setInterval(() => {
            this.loadMarketData();
        }, this.refreshInterval);
    }
    
    // 카드 애니메이션
    animateCards() {
        const cards = document.querySelectorAll('.market-card');
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                card.style.transition = 'all 0.5s ease';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, index * 100);
        });
    }
    
    // 유틸리티 함수들
    formatNumber(num) {
        return new Intl.NumberFormat('ko-KR').format(num);
    }
    
    getIndexKoreanName(index) {
        const names = {
            'kospi': 'KOSPI',
            'kosdaq': 'KOSDAQ',
            'dow': '다우존스',
            'nasdaq': '나스닥'
        };
        return names[index] || index.toUpperCase();
    }
    
    getUpdateTime() {
        return new Date().toLocaleTimeString('ko-KR', {
            hour: '2-digit',
            minute: '2-digit'
        });
    }
    
    showErrorMessage(message) {
        const toast = document.createElement('div');
        toast.className = 'toast-error';
        toast.textContent = message;
        
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.classList.add('show');
        }, 100);
        
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }
}

// 페이지 로드 시 초기화
document.addEventListener('DOMContentLoaded', () => {
    // Dashboard Manager 인스턴스 생성
    window.dashboardManager = new DashboardManager();
    
    // 추가 초기화 코드
    initializeTooltips();
    initializeModals();
});

// 툴팁 초기화
function initializeTooltips() {
    const tooltipTriggerList = [].slice.call(
        document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    
    tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl);
    });
}

// 모달 초기화
function initializeModals() {
    // 서비스 소개 모달
    const introModal = document.getElementById('introModal');
    if (introModal) {
        introModal.addEventListener('show.bs.modal', function (event) {
            // 모달 표시 시 처리
        });
    }
}

// 기능 카드 호버 효과
document.querySelectorAll('.feature-card').forEach(card => {
    card.addEventListener('mouseenter', function() {
        this.style.transform = 'translateY(-10px)';
        this.style.boxShadow = '0 10px 30px rgba(0,0,0,0.1)';
    });
    
    card.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
        this.style.boxShadow = '';
    });
});

// 통계 섹션 카운터 포맷팅
function formatStatNumber(num, element) {
    const suffix = element.parentElement.textContent.includes('%') ? '%' : '';
    const formatted = num >= 10000 ? 
        (num / 1000).toFixed(0) + 'K' : 
        num.toLocaleString('ko-KR');
    
    return formatted + suffix;
}
```

---

## 5. CSS 스타일 (static/css/dashboard.css)

### 5.1 기본 스타일
```css
/* 대시보드 전용 스타일 */

/* 히어로 섹션 */
.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('/static/images/pattern.svg') repeat;
    opacity: 0.1;
}

.hero-illustration {
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

/* 스크롤 인디케이터 */
.scroll-indicator {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    animation: bounce 2s infinite;
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
    40% { transform: translateX(-50%) translateY(-10px); }
    60% { transform: translateX(-50%) translateY(-5px); }
}

/* 시장 카드 */
.market-card {
    transition: all 0.3s ease;
    border: none;
}

.market-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

/* 심리 게이지 */
.sentiment-gauge {
    position: relative;
    height: 200px;
}

.gauge-text {
    position: absolute;
    top: 60%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.gauge-value {
    font-size: 3rem;
    font-weight: bold;
}

.gauge-label {
    font-size: 1.2rem;
    color: #666;
}

/* 기능 카드 */
.feature-card {
    background: white;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    cursor: pointer;
}

.feature-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 35px rgba(0,0,0,0.15);
}

.feature-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8f9fa;
    border-radius: 50%;
}

/* 통계 섹션 */
.statistics {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.stat-item h3 {
    margin-bottom: 0.5rem;
}

/* 반응형 디자인 */
@media (max-width: 768px) {
    .hero-section h1 {
        font-size: 2rem;
    }
    
    .feature-grid .col-md-6 {
        margin-bottom: 1.5rem;
    }
    
    .stat-item h3 {
        font-size: 2rem;
    }
}

/* 애니메이션 클래스 */
.animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease;
}

.animate-on-scroll.animated {
    opacity: 1;
    transform: translateY(0);
}

/* 토스트 메시지 */
.toast-error {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #f44336;
    color: white;
    padding: 15px 25px;
    border-radius: 5px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.3s ease;
    z-index: 9999;
}

.toast-error.show {
    opacity: 1;
    transform: translateX(0);
}

/* 네비게이션 바 스크롤 효과 */
.navbar {
    transition: all 0.3s ease;
}

.navbar-scrolled {
    background: rgba(255, 255, 255, 0.95) !important;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.navbar-scrolled .navbar-brand,
.navbar-scrolled .nav-link {
    color: #333 !important;
}
```

---

## 6. 성능 최적화

### 6.1 로딩 최적화
```javascript
// Lazy Loading 구현
class LazyLoader {
    constructor() {
        this.imageObserver = null;
        this.init();
    }
    
    init() {
        // Intersection Observer 설정
        const options = {
            root: null,
            rootMargin: '50px',
            threshold: 0.01
        };
        
        this.imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    this.loadImage(entry.target);
                    this.imageObserver.unobserve(entry.target);
                }
            });
        }, options);
        
        // 모든 lazy 이미지 관찰
        document.querySelectorAll('img[data-src]').forEach(img => {
            this.imageObserver.observe(img);
        });
    }
    
    loadImage(img) {
        const src = img.getAttribute('data-src');
        if (src) {
            img.src = src;
            img.removeAttribute('data-src');
            
            img.onload = () => {
                img.classList.add('loaded');
            };
        }
    }
}
```

### 6.2 캐싱 전략
```javascript
// 시장 데이터 캐싱
class DataCache {
    constructor() {
        this.cache = new Map();
        this.ttl = 30000; // 30초
    }
    
    set(key, data) {
        this.cache.set(key, {
            data: data,
            timestamp: Date.now()
        });
    }
    
    get(key) {
        const cached = this.cache.get(key);
        
        if (cached) {
            const age = Date.now() - cached.timestamp;
            if (age < this.ttl) {
                return cached.data;
            } else {
                this.cache.delete(key);
            }
        }
        
        return null;
    }
    
    clear() {
        this.cache.clear();
    }
}
```

---

## 7. 접근성 고려사항

### 7.1 ARIA 레이블
```html
<!-- 스크린 리더를 위한 레이블 -->
<section class="hero-section" role="banner" aria-label="Pixie 서비스 소개">
    <h1 class="visually-hidden">Pixie AI 투자 비서 서비스</h1>
    <!-- 콘텐츠 -->
</section>

<!-- 스킵 네비게이션 -->
<a href="#main-content" class="skip-link">
    메인 콘텐츠로 건너뛰기
</a>
```

### 7.2 키보드 네비게이션
```javascript
// 키보드 접근성 개선
document.addEventListener('keydown', (e) => {
    // Tab 키로 포커스 이동 시 시각적 표시
    if (e.key === 'Tab') {
        document.body.classList.add('keyboard-nav');
    }
});

document.addEventListener('mousedown', () => {
    document.body.classList.remove('keyboard-nav');
});
```

---

## 8. 테스트 시나리오

### 8.1 기능 테스트
1. **페이지 로드 테스트**
   - 초기 로딩 시간 측정
   - 모든 리소스 정상 로드 확인
   - JavaScript 에러 없음 확인

2. **시장 데이터 테스트**
   - API 호출 성공 확인
   - 데이터 정상 표시 확인
   - 자동 갱신 동작 확인

3. **인터랙션 테스트**
   - 버튼 클릭 동작 확인
   - 스크롤 애니메이션 확인
   - 호버 효과 동작 확인

### 8.2 성능 테스트
```javascript
// 성능 측정 코드
class PerformanceMonitor {
    static measure() {
        // First Contentful Paint
        const fcp = performance.getEntriesByType('paint')
            .find(entry => entry.name === 'first-contentful-paint');
        
        // DOM Content Loaded
        const dcl = performance.timing.domContentLoadedEventEnd - 
                    performance.timing.navigationStart;
        
        // Page Load Time
        const plt = performance.timing.loadEventEnd - 
                    performance.timing.navigationStart;
        
        console.log(`FCP: ${fcp?.startTime}ms`);
        console.log(`DCL: ${dcl}ms`);
        console.log(`PLT: ${plt}ms`);
    }
}
```

---

## 9. 트러블슈팅

### 9.1 일반적인 문제와 해결방법

1. **시장 데이터가 표시되지 않음**
   - API 엔드포인트 확인
   - 네트워크 연결 확인
   - 콘솔 에러 확인

2. **애니메이션이 끊김**
   - GPU 가속 활성화
   - will-change 속성 사용
   - 애니메이션 최적화

3. **모바일에서 레이아웃 깨짐**
   - 뷰포트 메타 태그 확인
   - 반응형 CSS 확인
   - 터치 이벤트 처리 확인

### 9.2 디버깅 도구
```javascript
// 디버그 모드
class DebugMode {
    static enable() {
        window.DEBUG = true;
        console.log('Debug mode enabled');
        
        // 성능 모니터링
        setInterval(() => {
            const memory = performance.memory;
            console.log(`Memory usage: ${(memory.usedJSHeapSize / 1048576).toFixed(2)} MB`);
        }, 5000);
    }
    
    static disable() {
        window.DEBUG = false;
        console.log('Debug mode disabled');
    }
}
```

---

## 10. 향후 개선사항

### 10.1 계획된 기능
1. **개인화된 대시보드**
   - 사용자별 맞춤 위젯
   - 드래그 앤 드롭 레이아웃
   - 테마 선택 기능

2. **실시간 알림**
   - WebSocket 기반 실시간 업데이트
   - 푸시 알림 지원
   - 맞춤형 알림 설정

3. **고급 차트**
   - 인터랙티브 차트
   - 다양한 차트 유형
   - 데이터 내보내기 기능

### 10.2 성능 개선
1. **코드 스플리팅**
   - 라우트별 번들 분리
   - 동적 임포트 활용
   - 초기 로딩 최적화

2. **이미지 최적화**
   - WebP 형식 지원
   - 반응형 이미지
   - 프로그레시브 로딩

3. **캐싱 전략**
   - Service Worker 활용
   - 오프라인 지원
   - 백그라운드 동기화